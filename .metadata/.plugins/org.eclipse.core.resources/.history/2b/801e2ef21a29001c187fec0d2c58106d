package com.challange;

import java.awt.List;
import java.util.ArrayList;
import java.util.Scanner;


class CharacterNode{
	String value;
	CharacterNode leftNode;
	CharacterNode rightNode;

	public CharacterNode(String value) {
		this.value = value;
		this.leftNode = null;
		this.rightNode = null;
	}
}

public class LabelOrderTraversal {

	public static class Queue{
		ArrayList<CharacterNode> list;

		public Queue() {
			list = new ArrayList<>();
		}

		public void enQueue(CharacterNode node) {
			System.out.println("enque"+node.value);
			list.add(node);
		}

		public CharacterNode deQueue() {
			if(list.size()>0)
			return list.remove(0);
			else return null;
		}
	}



	public static CharacterNode insertLeft(CharacterNode parentNode,String value) {
		parentNode.leftNode = new CharacterNode(value);
		return parentNode.leftNode;
	}

	public static CharacterNode insertRight(CharacterNode parentNode,String value) {
		
		parentNode.rightNode = new CharacterNode(value);
		return parentNode.rightNode;
	}

	public static void main(String args[]) {

		CharacterNode root,temp;
		Scanner sc = new Scanner(System.in);
		int nodeCount=0,numberOfNode = sc.nextInt();

		System.out.print("Root=");
		String c = sc.next();
		while(c.equals(" ")) {
			c = sc.next();
		}
		root = new CharacterNode(c);
		Queue queue = new Queue();
		queue.enQueue(root);
		nodeCount++;
		temp = queue.deQueue();
		while(temp != null) {

			System.out.print(" Left Node of "+temp.value+" = ");
			c = sc.next();
			if(!c.equals(" ")) {
				System.out.println(c);
				queue.enQueue(insertLeft(temp, c));;
				nodeCount++;
			}
			if(nodeCount==numberOfNode) break;
			System.out.print(" Right Node of "+temp.value+" = ");
			c = sc.next();
			if(!c.equals(" ")) {
				System.out.println(c);
				queue.enQueue(insertRight(temp, c));
				nodeCount++;
			}
			temp = queue.deQueue();
			System.out.println(temp.value);
		}

	}
}
